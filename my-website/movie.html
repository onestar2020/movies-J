<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loading Movie...</title>
  <link rel="stylesheet" href="css/home.css">
</head>
<body style="background:#111; color:#fff;">
  <header style="padding:10px; border-bottom:1px solid #444;">
    <h1 id="movie-title">Loading...</h1>
  </header>

  <main style="padding:20px;">
    <!-- Video Player -->
    <iframe id="movie-player" width="100%" height="450" frameborder="0" allowfullscreen style="border-radius:10px;"></iframe>

    <!-- Server Info & Selector -->
    <p style="color: #ccc; margin-top: 10px; text-align: center; font-size: 15px;">
      ðŸŽ® Select a <strong>server</strong> below to watch the full movie.
    </p>

    <div style="text-align: center; margin-top: 10px;">
      <select id="server-select" style="padding: 8px; border-radius: 5px; width: 90%; max-width: 400px;">
        <option value="">-- Select Server --</option>
        <option value="megacloud.tv">MegaCloud.tv</option>
        <option value="fzmovies.xyz">FzMovies.xyz</option>
        <option value="vidsrc.cc">Vidsrc.cc</option>
        <option value="vidsrc.me">Vidsrc.me</option>
        <option value="player.videasy.net">Player.Videasy.net</option>
        <option value="multiembed.mov">MultiEmbed.mov</option>
        <option value="2embed.to">2Embed.to</option>
        <option value="zembed.net">Zembed.net</option>
        <option value="curtstream.com">CurtStream</option>
        <option value="vidsrc.pro">VidSrc Pro</option>
        <option value="autoembed.to">AutoEmbed.to</option>
        <option value="2embed.cc">2Embed.cc</option>
        <option value="dopebox.to">DopeBox.to</option>
        <option value="sflix.to">SFlix.to</option>
      </select>
    </div>

    <!-- Movie Details -->
    <p id="movie-overview" style="margin-top:20px;"></p>
    <p id="movie-rating" style="color:gold; margin-top:10px;"></p>
    <div id="cast-list" style="margin-top:20px;"></div>
    <div id="similar-movies" style="margin-top:20px;"></div>
  </main>

  <!-- Scripts -->
  <script src="js/movie.js" defer></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const serverSelect = document.getElementById('server-select');
      const player = document.getElementById('movie-player');
      const urlParams = new URLSearchParams(window.location.search);
      const id = urlParams.get('id');
      const type = urlParams.get('type') || 'movie';

      serverSelect.addEventListener('change', () => {
        const server = serverSelect.value;
        if (server && id) {
          let embedUrl = '';
          if (server.includes('fzmovies')) {
            embedUrl = `https://${server}/movie?id=${id}`;
          } else if (server.includes('megacloud')) {
            embedUrl = `https://${server}/embed-1/${id}`;
          } else {
            embedUrl = `https://${server}/embed/${type}?id=${id}`;
          }
          player.src = embedUrl;
        }
      });
    });
  </script>
</body>
</html>
